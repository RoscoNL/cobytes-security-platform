const axios = require('axios');

async function checkPentestScanDirect() {
  try {
    const scanId = 36501855; // From scan 45
    
    // Check via backend proxy
    const ptResponse = await axios.get(`http://localhost:3001/api/proxy/pentest-tools/scans/${scanId}`);
    
    console.log('üåê Real PentestTools Scan Status:');
    console.log(JSON.stringify(ptResponse.data, null, 2));
    
    // Also try to get the output
    try {
      const outputResponse = await axios.get(`http://localhost:3001/api/proxy/pentest-tools/scans/${scanId}/output`);
      console.log('\nüìÑ Scan Output:');
      console.log(JSON.stringify(outputResponse.data, null, 2));
    } catch (err) {
      console.log('\n‚ö†Ô∏è Could not get scan output:', err.response?.status || err.message);
    }
    
  } catch (error) {
    console.error('Error:', error.response?.data || error.message);
  }
}

checkPentestScanDirect();